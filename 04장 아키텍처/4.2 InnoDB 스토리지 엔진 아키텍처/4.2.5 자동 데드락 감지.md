# 4.2.5 자동 데드락 감지
InnoDB 스토리지 엔진은 내부적으로 잠금이 교착 상태에 빠지지 않았는지 체크하기 위해 **잠금 대기 목록을 그래프 형태로 관리**한다.

데드락 감지 스레드가 주기적으로 교착 상태에 빠진 트랜잭션을 찾아 강제 종료한다.
  - 기준 : 언두 로그의 양
    - 언두 로그 레코드가 적을수록 강제 롤백으로 인한 부하가 줄기 때문에 레코드가 적은 경우 롤백의 대상이 된다.

<br>

동시 처리 스레드가 매우 많아지거나 각 트랜잭션이 가진 잠금의 수가 말아지면 데드락 감지 스레드가 느려진다.
  
이러한 문제점을 해결하기 위해  `innodb_deadlock_detect` 를 OFF로 설정하여 데드락 감지 스레드 동작을 멈출 수 있다.
- 이 경우 데드락 상황에서 자동으로 요청이 실패할 수 있도록 하기 위해 설정하는 시간인 `innodb_lock_wait_timeout` 을 50초 이하로 변경해서 사용하는 것을 권장한다.
  - 데드락 감지 스레드 미작동 시 데드락이 발생해도 중재하지 않아 무한정 대기할 가능성이 있기 때문