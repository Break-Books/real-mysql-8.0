# 4.2.11 리두 로그 및 로그 버퍼

## 4.2.11.2 리두 로그 활성화 및 비활성화

MySQL 8.0 버전부터는 리두 로그를 수동으로 활성화하거나 비활성화할 수 있게 됐다. 그래서 데이터를 복구하거나 대용량 데이터를 한 번에 적재하는 경우 리두 로그를 비활성화해 데이터 적재 시간을 줄일 수 있다.

```sql
// 리두 로그 비활성화
ALTER INSTANCE DISABLE INNODB REDO_LOG;

// 리두 로그 활성화
ALTER INSTANCE ENABLE INNODB REDO_LOG;
```

- `Innodb_redo_log_enabled` 상태 변수를 통해 리두 로그 활성화 여부 확인 가능

<br>

리두 로그 비활성화 이후 데이터 적재 작업 실행 시 적재 완료 후 리두 로그 재활성화를 해줘야한다.
  - 비정상 종료 시 
    - 체크포인트 이후 시점의 데이터 복구 불가능
    - 체크포인트 시점의 상태가 비일관될 수 있음

<br>

> MySQL 서버는 새롭게 시작 될 때 리두 로그에서 데이터 파일에 기록되지 못한 데이터가 있는지 검사를 하게 된다. 이때 리두 로그가 비활성화된 상태로 비정상 종료가 됐다면, 리두 로그를 통한 복구가 불가능하기 때문에 정상 시작이 불가능하다.
> 
>  이 경우 innodb_force_recovery 값을 6으로 설정하여 다시 시작한다.