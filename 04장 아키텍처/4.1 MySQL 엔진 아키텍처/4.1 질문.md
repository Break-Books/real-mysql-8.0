# 4.1 MySQL 엔진 아키텍처

### MySQL의 아키텍처와 Spring 의 레이어드 아키텍처와 유사한 점은 무엇인가요?

**첫번째, 레이어별로 관심사를 분리하여 느슨한 결합을 가져간다.**

스토리지 엔진은 핸들러 API를 제공하고, MySQL 엔진은 이러한 핸들러 API를 호출하는 구조이기 때문에 필요에 따라 스토리지 엔진이 달라질 수 있다.

또한 MySQL 엔진은 가장 핵심적인 쿼리를 분석하고 최적화하는 역할만 담당하고, 실제 디스크에 접근해 데이터를 읽고 쓰는 역할은 스토리지 엔진에게 위임한다. 

이는 마치 Repository 패턴에서 나타나는 Repository와 DAO의 관계와 유사하다고 볼 수 있다.

**두번째, 하나의 요청에 대해 하나의 스레드를 할당해 처리한다.**
스프링에서는 하나의 Http Request에 대해 하나의 스레드를 할당해 처리한다.

컨트롤러 앞에서 인터셉터와 아규먼트 리졸버가 기본적인 요청의 유효성 검증을 처리하고, 컨트롤러는 요청을 처리할 주체에게 메시지를 전달한다.

MySQL 에서도 하나의 요청에 대해 하나의 사용자 스레드를 할당해 처리하기 때문에 유사하다고 볼 수 있다. 