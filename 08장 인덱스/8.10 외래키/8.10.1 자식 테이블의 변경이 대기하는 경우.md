# 8.10.1 자식 테이블의 변경이 대기하는 경우

InnoDB에서만 생성할 수 있다.

자동으로 연관되는 테이블의 칼럼에 인덱스가 생성되며, 외래키를 제거하지 않으면 자동으로 생성된 인덱스를 삭제할 수 없다. (귀찮음)

- 테이블의 변경 (쓰기 잠금)이 발생하는 경우에만 잠금 경합 (잠금 대기) 가 발생한다.
- 외래키가 연관되지 않은 칼럼의 변경은 상관없다.


자식 테이블의 외래 키 칼럼을 변경하려면 부모 테이블의 확인이 필요한데, 이때 레코드에 쓰기 잠금이 걸려있으면 해당 쓰기 잠금이 해제될 때까지 기다린다.

```sql
UPDATE tb_child SET pid=2 WHERE id=100;
```

하지만 외래키가 아닌 칼럼의 변경은 괜찮다!