# 9.2.1 풀 테이블 스캔과 풀 인덱스 스캔

### 풀 테이블 스캔
- 테이블의 데이터를 처음부터 끝까지 읽어 처리하는 작업을 의미
- MySQL 옵티마이저는 아래의 경우 풀 테이블 스캔을 진행
  - 테이블 레코드 건수가 너무 작은 경우(테이블 페이지 1개로 구성된 경우)
  - WHERE 절이나 ON 절에 인덱스를 이용할 수 있는 적절한 조건이 없는 경우
  - 인덱스가 있더라도 조건 일치 레코드 건수가 너무 많은 경우


대부분의 DBMS는 풀 테이블 스캔 시 한꺼번에 여러 개의 블록이나 페이지를 읽어오는 기능을 내장하고 있음
- InnoDB 스토리지 엔진의 경우 백그라운드 스레드에 의해 시작되는 리드 어헤드 작업*을 통해 이러한 기능이 지원된다.
  > 풀 테이블 스캔이 일어나면 **포그라운드 스레드가 페이지 읽기를 실행**하고 특정 시점부터는 해당 읽기 작업을 **백그라운드 스레드로 넘긴다.** 백그라운드 스레드로 넘겨받는 시점부터 한 번에 최대 64개의 데이터 페이지까지 읽어 버퍼 풀에 저장해둔다. 이렇게 하면 **포그라운드 스레드는 버퍼 풀에 미리 준비된 데이터를 가져다 사용**하면 되므로 쿼리를 빠르게 처리할 수 있게 된다.
  
#### * 리드 어헤드 : 어떤 영역의 데이터가 앞으로 필요해질 것을 예측해서 미리 디스크로부터 읽어 InnoDB 버퍼 풀에 담아두는 것으로 풀 테이블 스캔, 풀 인덱스 스캔에서 동일하게 사용된다.